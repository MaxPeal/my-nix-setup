#! /bin/bash
#
# Add global node module directories to the PATH if they exist.
function AddNodeModulesToPath() {
  for folder in "/lib" "/usr/lib" "/usr/local/lib" "/opt/lib" "$HOME/.local/lib" ; do
    if [ -d "$folder/node_modules" ] ; then
       export PATH="$PATH:$folder/node_modules"
       for subfoldername in $(ls "$folder/node_modules") ; do
         local subfolder="$folder/node_modules/$subfoldername"
         if [ -d "$subfolder" ] ; then
            export PATH="$PATH:$subfolder"
         fi
         if [ -d "$subfolder/bin" ] ; then
            export PATH="$PATH:$subfolder/bin"
         fi
       done
    fi
  done
}

AddNodeModulesToPath
